<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRC STEEL - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Prompt', sans-serif;
    }

    #app-wrapper {
      width: 100%;
      height: 100%;
      overflow-y: auto;
    }

    .gradient-bg {
      background: linear-gradient(135deg, #0077b6 0%, #00b4d8 50%, #90e0ef 100%);
    }

    .card-shadow {
      box-shadow: 0 10px 40px rgba(0, 119, 182, 0.15);
    }

    .input-focus:focus {
      border-color: #0077b6;
      box-shadow: 0 0 0 3px rgba(0, 119, 182, 0.1);
    }

    .btn-primary {
      background: linear-gradient(135deg, #0077b6 0%, #00b4d8 100%);
      transition: all 0.3s ease;
    }

    .btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 119, 182, 0.3);
    }

    .btn-primary:disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }

    .form-section {
      animation: fadeInUp 0.5s ease forwards;
      opacity: 0;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .form-section:nth-child(1) { animation-delay: 0.1s; }
    .form-section:nth-child(2) { animation-delay: 0.2s; }
    .form-section:nth-child(3) { animation-delay: 0.3s; }
    .form-section:nth-child(4) { animation-delay: 0.4s; }

    .radio-custom:checked + label {
      background: linear-gradient(135deg, #0077b6 0%, #00b4d8 100%);
      color: white;
      border-color: #0077b6;
    }

    .status-badge {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .toast {
      animation: slideIn 0.3s ease forwards;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%230077b6' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      padding-right: 2.5rem;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gray-50">
  <div id="app-wrapper" class="w-full h-full overflow-y-auto"><!-- Header -->
   <header class="gradient-bg text-white py-6 px-4 sticky top-0 z-10">
    <div class="max-w-5xl mx-auto">
     <div class="flex items-center justify-between gap-4">
      <div class="flex items-center gap-4"><!-- Logo SVG -->
       <div class="w-14 h-14 bg-white rounded-xl flex items-center justify-center card-shadow flex-shrink-0">
        <svg viewbox="0 0 48 48" class="w-10 h-10"><rect x="4" y="20" width="40" height="8" rx="2" fill="#0077b6" /> <rect x="8" y="12" width="32" height="6" rx="1" fill="#00b4d8" /> <rect x="12" y="30" width="24" height="6" rx="1" fill="#00b4d8" /> <circle cx="16" cy="40" r="4" fill="#0077b6" /> <circle cx="32" cy="40" r="4" fill="#0077b6" />
        </svg>
       </div>
       <div>
        <h1 id="company-name" class="text-2xl font-bold tracking-wide">CRC STEEL ‡∏à‡∏≥‡∏Å‡∏±‡∏î</h1>
        <p id="form-title" class="text-blue-100 text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á</p>
       </div>
      </div>
      <div class="hidden md:flex items-center gap-2 bg-white/20 rounded-full px-4 py-2">
       <div class="w-2 h-2 bg-green-400 rounded-full status-badge"></div><span class="text-sm font-medium">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
      </div>
     </div>
    </div>
   </header><!-- Main Content -->
   <main class="max-w-5xl mx-auto px-4 py-8 pb-12">
    <form id="dataForm" class="space-y-6"><!-- Section 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ -->
     <div class="form-section bg-white rounded-2xl card-shadow p-6">
      <div class="flex items-center gap-3 mb-6">
       <div class="w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0">
        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
       </div>
       <h2 class="text-lg font-semibold text-gray-800">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><!-- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ <span class="text-red-500">*</span></label> <input type="date" name="date" required class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- ‡πÑ‡∏õ/‡∏Å‡∏•‡∏±‡∏ö -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡πÑ‡∏õ/‡∏Å‡∏•‡∏±‡∏ö <span class="text-red-500">*</span></label>
        <div class="flex gap-2"><input type="radio" name="direction" value="‡πÑ‡∏õ" id="dir-go" class="hidden radio-custom" required> <label for="dir-go" class="flex-1 text-center py-3 rounded-xl border-2 border-gray-200 cursor-pointer transition-all font-medium hover:border-blue-300">‡πÑ‡∏õ</label> <input type="radio" name="direction" value="‡∏Å‡∏•‡∏±‡∏ö" id="dir-back" class="hidden radio-custom"> <label for="dir-back" class="flex-1 text-center py-3 rounded-xl border-2 border-gray-200 cursor-pointer transition-all font-medium hover:border-blue-300">‡∏Å‡∏•‡∏±‡∏ö</label>
        </div>
       </div><!-- TRIP -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">TRIP <span class="text-red-500">*</span></label> <input type="text" name="trip" required placeholder="‡πÄ‡∏ä‡πà‡∏ô T001" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div>
      </div>
     </div><!-- Section 2: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏ñ -->
     <div class="form-section bg-white rounded-2xl card-shadow p-6">
      <div class="flex items-center gap-3 mb-6">
       <div class="w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center flex-shrink-0">
        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
       </div>
       <h2 class="text-lg font-semibold text-gray-800">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏ñ</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><!-- ‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô <span class="text-red-500">*</span></label> <input type="text" name="employeeId" required placeholder="‡πÄ‡∏ä‡πà‡∏ô EMP001" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ <span class="text-red-500">*</span></label> <input type="text" name="driverName" required placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏ñ -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏ñ <span class="text-red-500">*</span></label> <input type="text" name="vehicleNumber" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏Ç-1234" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- AD -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">AD</label> <input type="text" name="ad" placeholder="AD" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- ‡πÄ‡∏•‡∏Ç‡∏Å‡∏¥‡πÇ‡∏• -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏•‡∏Ç‡∏Å‡∏¥‡πÇ‡∏• <span class="text-red-500">*</span></label> <input type="number" name="mileage" required placeholder="‡πÄ‡∏ä‡πà‡∏ô 125000" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div><!-- ‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà <span class="text-red-500">*</span></label> <input type="text" name="destination" required placeholder="‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none">
       </div>
      </div>
     </div><!-- Section 3: ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ -->
     <div class="form-section bg-white rounded-2xl card-shadow p-6">
      <div class="flex items-center gap-3 mb-6">
       <div class="w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center flex-shrink-0">
        <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <h2 class="text-lg font-semibold text-gray-800">‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><!-- ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</label> <select name="engineOil" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none bg-white"> <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ --</option> <option value="‡∏õ‡∏Å‡∏ï‡∏¥">‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥</option> <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option> <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô">üî¥ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</option> </select>
       </div><!-- ‡∏ô‡πâ‡∏≥‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏ô‡πâ‡∏≥‡∏´‡∏•‡πà‡∏≠‡πÄ‡∏¢‡πá‡∏ô</label> <select name="coolant" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none bg-white"> <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ --</option> <option value="‡∏õ‡∏Å‡∏ï‡∏¥">‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥</option> <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°">‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°</option> <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô">üî¥ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</option> </select>
       </div><!-- ‡∏™‡∏†‡∏≤‡∏û‡∏¢‡∏≤‡∏á -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏™‡∏†‡∏≤‡∏û‡∏¢‡∏≤‡∏á</label> <select name="tireCondition" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none bg-white"> <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ --</option> <option value="‡∏î‡∏µ">‚úÖ ‡∏î‡∏µ</option> <option value="‡∏û‡∏≠‡πÉ‡∏ä‡πâ">‚ö†Ô∏è ‡∏û‡∏≠‡πÉ‡∏ä‡πâ</option> <option value="‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô">üî¥ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</option> </select>
       </div><!-- ‡πÑ‡∏ü‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡πÑ‡∏ü‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á</label> <select name="lights" class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none bg-white"> <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ --</option> <option value="‡∏õ‡∏Å‡∏ï‡∏¥">‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥</option> <option value="‡∏ä‡∏≥‡∏£‡∏∏‡∏î">üî¥ ‡∏ä‡∏≥‡∏£‡∏∏‡∏î</option> </select>
       </div>
      </div>
     </div><!-- Section 4: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ -->
     <div class="form-section bg-white rounded-2xl card-shadow p-6">
      <div class="flex items-center gap-3 mb-6">
       <div class="w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center flex-shrink-0">
        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
       </div>
       <h2 class="text-lg font-semibold text-gray-800">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</h2>
      </div>
      <div class="space-y-4"><!-- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
        <div class="relative"><input type="file" name="image" id="imageInput" accept="image/*" class="hidden" onchange="handleImageChange(this)"> <label for="imageInput" class="flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-blue-400 transition-all bg-gray-50 hover:bg-blue-50">
          <div id="imagePreviewContainer" class="flex flex-col items-center justify-center">
           <svg class="w-10 h-10 text-gray-400 mb-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
           </svg><span class="text-sm text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</span> <span class="text-xs text-gray-400 mt-1">PNG, JPG (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5MB)</span>
          </div><img id="imagePreview" class="hidden max-h-36 rounded-lg object-contain" alt="Preview"> </label>
        </div>
       </div><!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ -->
       <div><label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label> <textarea name="remarks" rows="3" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..." class="w-full px-4 py-3 rounded-xl border border-gray-200 input-focus transition-all outline-none resize-none"></textarea>
       </div>
      </div>
     </div><!-- Submit Button -->
     <div class="form-section"><button type="submit" id="submitBtn" class="w-full btn-primary text-white font-semibold py-4 rounded-xl flex items-center justify-center gap-3">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
       </svg><span id="submitText">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span> </button>
     </div>
    </form>
   </main><!-- Toast Notification -->
   <div id="toast" class="fixed top-4 right-4 z-50 hidden">
    <div class="toast bg-white rounded-xl card-shadow p-4 flex items-center gap-3 max-w-sm">
     <div id="toastIcon" class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0"></div>
     <div class="min-w-0">
      <p id="toastTitle" class="font-semibold text-gray-800"></p>
      <p id="toastMessage" class="text-sm text-gray-500"></p>
     </div>
    </div>
   </div><!-- Footer -->
   <footer class="bg-white border-t border-gray-100 py-4 mt-8">
    <div class="max-w-5xl mx-auto px-4 text-center">
     <p class="text-sm text-gray-500">¬© 2024 CRC STEEL ‡∏à‡∏≥‡∏Å‡∏±‡∏î - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á</p>
    </div>
   </footer>
  </div>
  <script>
    const defaultConfig = {
      company_name: 'CRC STEEL ‡∏à‡∏≥‡∏Å‡∏±‡∏î',
      form_title: '‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á'
    };

    let config = { ...defaultConfig };
    let imageBase64 = '';

    function handleImageChange(input) {
      const file = input.files[0];
      if (file) {
        if (file.size > 5 * 1024 * 1024) {
          showToast('error', '‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB');
          input.value = '';
          return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
          imageBase64 = e.target.result;
          const preview = document.getElementById('imagePreview');
          const container = document.getElementById('imagePreviewContainer');
          preview.src = imageBase64;
          preview.classList.remove('hidden');
          container.classList.add('hidden');
        };
        reader.readAsDataURL(file);
      }
    }

    function showToast(type, title, message) {
      const toast = document.getElementById('toast');
      const toastIcon = document.getElementById('toastIcon');
      const toastTitle = document.getElementById('toastTitle');
      const toastMessage = document.getElementById('toastMessage');
      
      toastTitle.textContent = title;
      toastMessage.textContent = message;
      
      if (type === 'success') {
        toastIcon.className = 'w-10 h-10 rounded-full flex items-center justify-center bg-green-100 flex-shrink-0';
        toastIcon.innerHTML = '<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
      } else {
        toastIcon.className = 'w-10 h-10 rounded-full flex items-center justify-center bg-red-100 flex-shrink-0';
        toastIcon.innerHTML = '<svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>';
      }
      
      toast.classList.remove('hidden');
      
      setTimeout(() => {
        toast.classList.add('hidden');
      }, 4000);
    }

    function setDefaultDate() {
      const dateInput = document.querySelector('input[name="date"]');
      const today = new Date().toISOString().split('T')[0];
      dateInput.value = today;
    }

    document.getElementById('dataForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const submitText = document.getElementById('submitText');
      
      submitBtn.disabled = true;
      submitText.innerHTML = '<svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>&nbsp;‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
      
      const formData = new FormData(this);
      
      const data = {
        date: formData.get('date'),
        direction: formData.get('direction'),
        trip: formData.get('trip'),
        employeeId: formData.get('employeeId'),
        driverName: formData.get('driverName'),
        vehicleNumber: formData.get('vehicleNumber'),
        ad: formData.get('ad') || '-',
        mileage: formData.get('mileage'),
        destination: formData.get('destination'),
        engineOil: formData.get('engineOil') || '-',
        coolant: formData.get('coolant') || '-',
        tireCondition: formData.get('tireCondition') || '-',
        lights: formData.get('lights') || '-',
        image: imageBase64 || '-',
        remarks: formData.get('remarks') || '-'
      };
      
      try {
await fetch('https://script.google.com/macros/s/AKfycbxYNqiPzIN1lWIPJRw13-ZIeHj9C033BjBZxICRYjpkcQ8Me3IE8cQBDkJIyo2F1FqI/exec', {
  method: 'POST',
  mode: 'no-cors', // ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ CORS
  headers: {
    'Content-Type': 'text/plain', // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å application/json ‡πÄ‡∏õ‡πá‡∏ô text/plain
  },
  body: JSON.stringify(data)
});
        
        showToast('success', '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
        
        this.reset();
        setDefaultDate();
        imageBase64 = '';
        const preview = document.getElementById('imagePreview');
        const container = document.getElementById('imagePreviewContainer');
        preview.classList.add('hidden');
        container.classList.remove('hidden');
        
      } catch (error) {
        showToast('error', '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà');
      } finally {
        submitBtn.disabled = false;
        submitText.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
      }
    });

    setDefaultDate();

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (newConfig) => {
          config = { ...defaultConfig, ...newConfig };
          
          const companyName = document.getElementById('company-name');
          if (companyName) {
            companyName.textContent = config.company_name || defaultConfig.company_name;
          }
          
          const formTitle = document.getElementById('form-title');
          if (formTitle) {
            formTitle.textContent = config.form_title || defaultConfig.form_title;
          }
        },
        mapToCapabilities: () => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ['company_name', config.company_name || defaultConfig.company_name],
          ['form_title', config.form_title || defaultConfig.form_title]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bdb7e7bd1db7336',t:'MTc2ODM3NjUxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
